<mvc:View controllerName="entitec.pbi.embedding.controller.Users" xmlns="sap.m" xmlns:core="sap.ui.core" xmlns:mvc="sap.ui.core.mvc" xmlns:fb="sap.ui.comp.filterbar" displayBlock="true">
  <Page id="idUsers" title="{i18n>Users}" backgroundDesign="Solid" showHeader="false" showFooter="true">
    <content>
      <Table id="idTableUsers" mode="SingleSelectLeft" items="{path: '/Users', parameters: { updateGroupId: 'UserChanges' }}" fixedLayout="false" alternateRowColors="true">
        <headerToolbar>
          <Toolbar id="lineItemsToolbar">
            <Title id="lineItemsHeader" text="{i18n>Users}" />
            <ToolbarSpacer />
            <Button icon="sap-icon://refresh" text="{i18n>Refresh}" visible="true" tooltip="{i18n>Refresh}" press="getUsers" />
            <Button text="{i18n>Add}" icon="sap-icon://add" press='onAddUser' />
            <Button text="{i18n>Delete}" icon="sap-icon://delete" press="onDeleteVendor" type="Reject" />
          </Toolbar>
        </headerToolbar>
        <columns>
          <Column>
            <Label text="{i18n>Name}" />
          </Column>
          <Column>
            <Label text="{i18n>Role}" />
          </Column>
          <Column>
            <Label text="{i18n>Company_ID}" />
          </Column>
          <Column>
            <Label text="{i18n>B1AccountUser}" />
          </Column>
          <Column>
            <Label text="{i18n>ResetPassword}" />
          </Column>
        </columns>
        <items>
          <ColumnListItem id="idColumnlist2" type="Navigation" press="onUserSelect">
            <cells>
              <Text text="{UserName}" />
              <Select selectedKey="{RoleID_RoleID}" editable="false" items="{/Roles}">
                <core:Item key="{RoleID}" text="{RoleName}" />
              </Select>
              <Select editable="false" items="{/Companies}" forceSelection="false" selectedKey="{CompanyID_CompanyID}">
                <core:Item key="{CompanyID}" text="{CompanyName}" />
              </Select>
              <Select editable="false" items="{/PowerBI}" forceSelection="false" selectedKey="{BIAccountUser_id}">
                <core:Item key="{id}" text="{BIAccountUser}" />
              </Select>
              <Button id="idReset" icon="sap-icon://reset" type="Attention" text="Password" press="onResetPassword" />
            </cells>
          </ColumnListItem>
        </items>
      </Table>
    </content>
    <footer>
      <OverflowToolbar>
        <ToolbarSpacer />
        <Button id="idSaveUsers" type="Emphasized" text="Save" press="onSaveChanges" />
      </OverflowToolbar>
    </footer>
  </Page>
</mvc:View>