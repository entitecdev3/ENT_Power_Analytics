<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core">
  <Dialog id="idEditSecurityFilterDialog" class="sapUiResponsiveMargin" title="{i18n>EDIT_SECURITY_FILTER}">
    <VBox class="sapUiSmallMargin">

      <Label required="true" text="{i18n>PORTAL_TYPE}" />
      <Select id="idPortalTypeSelect"
              selectedKey="{editSecurityFilterModel>/portalType}"
              width="98%"
              forceSelection="true"
              change=".onPortalTypeChange">
        <core:Item key="standalone" text="Standalone" />
        <core:Item key="embed" text="Embed" />
      </Select>

      <Label required="true" text="{i18n>SECURITY_FILTER_ID}" />
      <Input value="{editSecurityFilterModel>/securityUniqueId}" />

      <Label required="true" text="{i18n>SECURITY_FILTER_NAME}" />
      <Input value="{editSecurityFilterModel>/description}" />

      <Label required="true" text="{i18n>TABLE}" />
      <Input value="{editSecurityFilterModel>/table}" />

      <Label required="true" text="{i18n>COLUMN}" />
      <Input value="{editSecurityFilterModel>/column}" />

      <Label required="true" text="{i18n>OPERATOR}" />
      <Select selectedKey="{editSecurityFilterModel>/operator}" width="98%" forceSelection="false">
        <core:Item key="In" text="IN" />
        <core:Item key="NotIn" text="NOT IN" />
        <core:Item key="All" text="ALL" />
      </Select>

      <Label required="true" text="{i18n>VALUE_SOURCE}" />
      <Select id="idValueSourceSelect" selectedKey="{editSecurityFilterModel>/valueSource}" width="98%">
        <!-- Items dynamically updated by controller -->
      </Select>

      <!-- Custom Values -->
      <Label text="{i18n>CUSTOM_VALUES}" visible="{
        parts: [
          { path: 'editSecurityFilterModel>/portalType' },
          { path: 'editSecurityFilterModel>/valueSource' }
        ],
        formatter: '.formatter.showCustomValues'
      }" />

      <TextArea value="{editSecurityFilterModel>/customValues}" rows="3" width="100%" visible="{
        parts: [
          { path: 'editSecurityFilterModel>/portalType' },
          { path: 'editSecurityFilterModel>/valueSource' }
        ],
        formatter: '.formatter.showCustomValues'
      }" placeholder="Enter comma-separated values" />

      <Label text="{i18n>REQUIRE_SINGLE_SELECTION}" />
      <CheckBox selected="{editSecurityFilterModel>/requireSingleSelection}" />

      <Label text="{i18n>DISPLAY_SETTINGS_LOCKED_IN_VIEWMODE}" />
      <CheckBox selected="{editSecurityFilterModel>/displaySetting_isLockedInViewMode}" />

      <Label text="{i18n>DISPLAY_SETTINGS_HIDDEN_IN_VIEWMODE}" />
      <CheckBox selected="{editSecurityFilterModel>/displaySetting_isHiddenInViewMode}" />

      <Label text="{i18n>DISPLAY_SETTINGS_DISPLAY_NAME}" />
      <Input value="{editSecurityFilterModel>/displaySetting_displayName}" />     

    </VBox>

    <buttons>
      <Button id="idSaveSFButton" text="{i18n>ok}" type="Emphasized" press="onSaveEditSecurityFilterDialog" />
      <Button text="{i18n>cancel}" press="onCloseEditSecurityFilterDialog" />
    </buttons>
  </Dialog>
</core:FragmentDefinition>
